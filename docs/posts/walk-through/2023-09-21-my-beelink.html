<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="JS HUHH">
<meta name="dcterms.date" content="2023-09-21">
<meta name="description" content="싸게 만들어보자.">

<title>lostineconomics.com - 소박한 가정용 웹서버</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">lostineconomics.com</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">about</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../project.html" rel="" target="">
 <span class="menu-text">project</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/anarinsk" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/anarinsk" rel="" target=""><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml" rel="" target=""><i class="bi bi-rss" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">소박한 가정용 웹서버</h1>
  <div class="quarto-categories">
    <div class="quarto-category">computer-tool</div>
    <div class="quarto-category">walk-through</div>
  </div>
  </div>

<div>
  <div class="description">
    싸게 만들어보자.
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>JS HUHH </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 21, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-JNRF3S74Z4"></script><section id="tl-dr" class="level2">
<h2 class="anchored" data-anchor-id="tl-dr">TL; DR</h2>
<ul>
<li>단순 용도의 개인용 웹 서버를 구축해보자.</li>
<li>구매부터 기본 세팅까지 개인이 경험한 전 과정을 소개한다. (역시 나중에 잊어버릴 나 놈을 위한 것이다!)<br>
</li>
<li>모든 것은 ‘게으른’ 접근이다. 필요한 것을 얻으면 그 이상은 나아가지 않을 것이다.</li>
</ul>
</section>
<section id="넋두리" class="level2">
<h2 class="anchored" data-anchor-id="넋두리">넋두리</h2>
<p>“웹 서버”라고 제목에 쓰긴 했지만 사실 단순한 파이썬 앱 호스팅, 토렌트 다운로드, 그리고 DLNA 서버 정도 만드는 것이 전부이다. 본격적인 의미의 NAS를 만드는 것이 아니다. 깃헙과 스트리밍 서비스가 존재하는 시대에 개인용 NAS까지 만들 정도로 보관해야 할 자료가 나에게는 없다.</p>
</section>
<section id="서버-구매" class="level2">
<h2 class="anchored" data-anchor-id="서버-구매">서버 구매</h2>
<p>목표는 최대한 싸고 간단하게 구축하는 것. 처음에는 라즈베리 파이를 고민했으나 이런 저런 부품을 구비하려면 비용이 꽤 들더라. 이럴 바에야 x86이 낫지 않을까? 알리익스프레스를 검색했다. N95와 같은 준수한 저전력 x86 CPU가 장착된 베이본 물건을 13만원 정도면 살 수 있었다. 윈도 OS도 필요 없고 메모리와 nvme SSD는 이미 굴러다니는 게 있어서 이 녀석을 구매했다. 16GB 메모리는 약 5.5만원 정도, 512GB SSD는 4만원 정도면 구매하니, 대략 베어본 가격에서 10만원 정도 더하면 쓸만한 작은 서버를 갖출 수 있다.</p>
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><a href="./images/beelink.webp" class="lightbox" title="https://www.aliexpress.com/item/1005005305248100.html" data-gallery="quarto-lightbox-gallery-1"><img src="./images/beelink.webp" class="img-fluid figure-img" style="width:40.0%"></a></p>
<figcaption class="figure-caption"><a href="https://www.aliexpress.com/item/1005005305248100.html" class="uri">https://www.aliexpress.com/item/1005005305248100.html</a></figcaption>
</figure>
</div>
</section>
<section id="우분투-설치" class="level2">
<h2 class="anchored" data-anchor-id="우분투-설치">우분투 설치</h2>
<p>USB 메모리에 다운받아서 설치하면 된다. 부팅 USB를 macos나 윈도에서 편리하게 만들 수 있다. <a href="https://ubuntu.com/tutorials/create-a-usb-stick-on-macos#1-overview">여기</a>를 참고하자. 설치 과정에서 경험한 몇 가지 사실을 소개한다.</p>
<ul>
<li>“Ubuntu 22.04.3 LTS” 서버 버전 설치했다. 이 녀석을 통해 GUI를 쓸 일이 없을 듯 하기에 GUI 활용을 위한 데스크탑 앱을 깔지 않았다.</li>
<li>요즘 버전 우분투 설치시 github을 통해서 ssh 오픈키를 가져올 수 있다. 해당 오픈키의 프라이빗 키가 설정된 노트북에서 바로 서버로 접속이 가능하다.</li>
<li>OS 설치가 끝난 이후 macos나 윈도가 설치된 기기를 통해 ssh 접속을 통해 작업하기를 권한다. 서버에 디스플레이와 키보드를 붙여서 쓰면 명령어를 모두 타이핑 해야 한다.</li>
</ul>
</section>
<section id="설치-후-작업" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="설치-후-작업">설치 후 작업</h2>
<p>우분투 설치 후에는 몇가지 필요한 작업을 해야 한다.</p>
<section id="기본-저장소-교체-및-업데이트" class="level3">
<h3 class="anchored" data-anchor-id="기본-저장소-교체-및-업데이트">기본 저장소 교체 및 업데이트</h3>
<p>apt 패키지 업데이트를 위한 주소는 <code>/etc/apt/sources.list</code> 파일을 편집하면 된다.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1"></a><span class="op">&gt;</span> sudo <span class="fu">nano</span> /etc/apt/sources.list</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>기본 저장소보다는 카카오의 미러 저장소가 국내에서 빠르다. 해당 파일을 적당한 편집기로 열어 기본 패키지 저장소가 어떻게 되어 있는지 살펴보자. 파일 내의 모든 저장소 URL을 찾아 <code>http://archive.ubuntu.com/ubuntu/</code> 또는 <code>http://kr.archive.ubuntu.com/ubuntu/</code> 등의 주소를 <code>http://mirror.kakao.com/ubuntu/</code>로 변경하면 된다. 둘 중 뭘로 되어 있는지 모르니 확인 후 작업하는 것을 권한다.</p>
</section>
<section id="패키지-업데이트와-업그레이드" class="level3">
<h3 class="anchored" data-anchor-id="패키지-업데이트와-업그레이드">패키지 업데이트와 업그레이드</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1"></a><span class="op">&gt;</span> sudo <span class="ex">apt</span> update </span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="op">&gt;</span> sudo <span class="ex">apt</span> upgrade <span class="co"># OS 요소까지 모두 업그레이드하려면 upgrade &gt; full-upgrade  </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="zsh-설치" class="level3">
<h3 class="anchored" data-anchor-id="zsh-설치">zsh 설치</h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1"></a><span class="op">&gt;</span> sudo <span class="ex">apt</span> update <span class="co"># 이미 실행했다면 건너 뛰자 </span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="op">&gt;</span> sudo <span class="ex">apt</span> install zsh <span class="co"># zsh 설치</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="op">&gt;</span> chsh <span class="ex">-s</span> <span class="va">$(</span><span class="fu">which</span> zsh<span class="va">)</span> <span class="co"># zsh을 기본 셸로 설정</span></span>
<span id="cb3-4"><a href="#cb3-4"></a></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="co"># 로그아웃 후에 다시 로그인하면 zsh이 기본셸로 설정된다. </span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="op">&gt;</span> sh <span class="ex">-c</span> <span class="st">"</span><span class="va">$(</span><span class="ex">curl</span> <span class="at">-fsSL</span> https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh<span class="va">)</span><span class="st">"</span> <span class="co"># oh my zsh을 설치하자. </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="p10k-깔기" class="level3">
<h3 class="anchored" data-anchor-id="p10k-깔기">p10k 깔기</h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1"></a><span class="op">&gt;</span> git <span class="ex">clone</span> <span class="at">--depth</span><span class="op">=</span>1 https://github.com/romkatv/powerlevel10k.git <span class="va">${ZSH_CUSTOM</span><span class="op">:-</span><span class="va">$HOME</span>/.oh-my-zsh/custom<span class="va">}</span>/themes/powerlevel10k</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>셸 꾸미기로 속 편하게 파워레벨10k를 쓰자.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1"></a><span class="op">&gt;</span> nano <span class="ex">~/.zshrc</span> <span class="co"># zsh 설정 열기 </span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="co"># ZSH_THEME="robbyrussell" -&gt; ZSH_THEME="powerlevel10k/powerlevel10k" # 테마를 p10k로 바꾸자 </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>변경 후 셸을 다시 시작하면 p10k 설정화면이 뜬다. 취향대로 설정하도록 하자. 설정을 바꾸고 싶다면, <code>p10k configure</code>를 실행하거나 <code>~/.p10k.zsh</code>를 직접 수정해도 좋다.</p>
</section>
<section id="brew-설치" class="level3">
<h3 class="anchored" data-anchor-id="brew-설치">brew 설치</h3>
<p>우분투에서 필요한 앱을 까는 방법은 apt, snap 그리고 brew가 있다. OS 단위의 업데이트 혹은 OS와 프로세스과 깊게 연관된 앱들은 apt를 통해서 깔자. snap도 나쁘지는 않지만 거추장스런 면이 있다. user 레벨에서 필요한 앱들을 깔고 관리하기에는 brew가 편하다. macos 만큼 편하지는 않지만 리눅스에서도 쓸만하다.</p>
<p><a href="https://brew.sh/" class="uri">https://brew.sh/</a></p>
<p>웹 페이지의 소개된 방식대로 설치하자. 설치 후에는 화면에 뜬 메시지대로 사후 작업을 꼭 해줘야 한다. 그래야 brew 명령어를 제대로 실행할 수 있다. 사용하는 셸에 따라서 서로 다른 사후 실행 명령이 등장하니 유의하시라.</p>
</section>
<section id="gh-pixi-with-brew" class="level3">
<h3 class="anchored" data-anchor-id="gh-pixi-with-brew">gh, pixi with brew</h3>
<p>이제 brew를 통해서 필요한 앱들을 깔겠다. 필요한 앱을 알아서 깔면 된다. brew를 통해서 설치할 수 있는지 여부는 brew 홈페이지에서 검색으로 확인할 수 있다. 나는 깃헙을 활용하기 위한 gh와 파이썬 의존성 관리도구인 pixi를 가장 먼저 설치했다.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1"></a><span class="op">&gt;</span> brew <span class="fu">install</span> gh, pixi </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>gh를 설치한 후 <code>gh auth login</code>을 통해 깃헙 계정에 로그인을 해두자. 필요한 리포가 있을 경우 <code>gh repo clone {리포-주소}</code>를 통해 편하게 당겨올 수 있다.</p>
</section>
<section id="streamlit" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="streamlit">streamlit</h3>
<p>이 소박한 가정용 서버의 목적이 streamlit을 호스팅하기 위한 것이다. 외부 클라우드 컴퓨팅을 사용하면 허름한 것을 쓰더라도 월 만원 정도 나간다. 스트림릿에서 제공하는 무료 티어를 쓸 수도 있지만, 이 녀석은 자주 쓰지 않는 경우 파킹에 들어가기 때문에 사용성이 아주 좋지는 않다. 우분투 깔아서 직접 호스팅하는 편이 소박한 용도라도 제법 편리하다. 앞서 보았듯이 서버 가격이 비싸지 않으며 전기 요금도 얼마 되지 않는다.</p>
<section id="설치와-서비스" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="설치와-서비스">설치와 서비스</h4>
<ul>
<li>pixi를 통해서 streamlit을 설치한다.</li>
<li>프로세스를 계속 살려두기 위해서 tmux를 활용하자.
<ul>
<li>tmux세션을 만든 후에</li>
<li>해당 세션에서 streamlit 프로세스를 띄우고</li>
<li>디태치해서 빠져 나온다.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1"></a><span class="op">&gt;</span> tmux <span class="ex">new-session</span> <span class="at">-s</span> {내-세션} <span class="co"># {내-세션}이라는 이름의 새로운 세션 시작 </span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="op">&gt;</span> pixi <span class="ex">run</span> streamlit {당신의-앱.py} <span class="at">--server.port</span> 8880 <span class="co"># 서버 포트는 필요한 경우 추가 </span></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="op">&gt;</span> <span class="ex">[CTRL-B]</span> + D 로 창을 빠져 나온다. </span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="co">#</span></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="op">&gt;</span> tmux <span class="fu">ls</span> <span class="co"># tmux 세션 조회 </span></span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="op">&gt;</span> tmux <span class="ex">attach</span> <span class="at">-t</span> {내-세션} <span class="co"># 세션 진입하기 </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>호스팅 주소가 있다면 해당 서비스의 네임서버에서 <code>A</code> 방식으로 IP 주소를 적어주면 된다. 회사에 따라서는 열어 놓은 포트를 제한하는 곳이 있다. 위에서 스트림릿의 <code>--server.port</code> 옵션은 이를 처리하기 위한 것이다.</li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<p>Cloudflare를 예로 들어보자. http와 https 별로 특정한 포트가 열려 있다(<a href="https://developers.cloudflare.com/fundamentals/reference/network-ports/">LINK</a>).해당 포트로만 접근이 가능하다. IP 주소를 감추기 위해 다음과 같은 우회로를 쓸 수 있다. A 호스트네임을 IP 주소와 연동하고 proxy를 켠다. 필요한 서비스에 접속하기 위해서는 <code>A:8880</code>이런 식으로 도메인네임으로 접근하면 된다. 만일 8880을 기억하기 싫다면? CNAME으로 B 호스트네임을 자체 도메인으로 연동한다. 그리고 Rule의 리디렉션 룰을 생성해서 B 호스트네임을 <code>A:8880</code>으로 리디렉션하면 된다.</p>
</div></div></section>
</section>
</section>
<section id="토렌트-서버" class="level2">
<h2 class="anchored" data-anchor-id="토렌트-서버">토렌트 서버</h2>
<p><a href="https://transmissionbt.com/">트랜스미션</a>을 설치할 것이다. 자체적인 웹 인터페이스를 갖고 있어서 서버 버전 용도로 적합하다. 전반적인 설치는 아래 지침을 따르자.</p>
<p><a href="https://hyperhand.tistory.com/entry/우분투에-토렌트-설치" class="uri">https://hyperhand.tistory.com/entry/우분투에-토렌트-설치</a></p>
<section id="몇-가지-팁" class="level3">
<h3 class="anchored" data-anchor-id="몇-가지-팁">몇 가지 팁</h3>
<ul>
<li>설정을 바꿀 때에는 반드시 서비스를 멈춘 상태에서 진행하도록 하자.</li>
<li>유저 anari를 가정한 상태에서 이 아래 폴더에 다운로드된 결과를 넣고 싶다고 하자.<code>\home\anari\downloads</code>라고 하자.</li>
<li>이때 다운로드 파일을 넣고 싶은 폴더는 <code>anari</code> 그룹 안에 속해 있고 이용자는 <code>debian-transmission</code>이다.</li>
<li>이 경우 <code>anari</code> 그룹 안에 <code>debian-transmission</code>이라는 이용자를 추가하면 권한 문제가 해결된다.</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1"></a><span class="op">&gt;</span> cat <span class="ex">\etc\group</span> <span class="co"># 그룹 내역 및 소속 확인하기 </span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="op">&gt;</span> sudo <span class="ex">usermod</span> <span class="at">-aG</span> anari debian-transmission <span class="co"># anari 그룹 안에 debian-transmission 이용자 추가하기 </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="dlna-서버" class="level2">
<h2 class="anchored" data-anchor-id="dlna-서버">DLNA 서버</h2>
<p>본격적인 활용을 위해서는 Plex 등을 설치하는 게 좋겠지만, 스마트 티비 앱에 영상 정도 전송하는 것이 목적이라면 DLNA 서버만 있으면 된다. 이 용도에 딱 적합한 것이 minidlna다.</p>
<p><a href="https://www.nemonein.xyz/2020/09/4403/" class="uri">https://www.nemonein.xyz/2020/09/4403/</a></p>
<section id="몇-가지-팁-1" class="level3">
<h3 class="anchored" data-anchor-id="몇-가지-팁-1">몇 가지 팁</h3>
<ul>
<li>위 설정에 소개된 대로 미디어를 스트리밍할 폴더를 설정해주면 된다.</li>
<li>만일 내가 전송할 폴더의 위치가 anari 그룹에 속해있다면 마찬가지로 minidlna 유저를 이 그룹에 넣어주면 되겠다.</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1"></a><span class="op">&gt;</span> sudo <span class="ex">usermod</span> <span class="at">-aG</span> anari minidlna <span class="co"># 유저 추가하기</span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="op">&gt;</span> sudo <span class="ex">systemctl</span> restart minidlna.service <span class="co"># 서비스 재개 </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>서비스를 멈추고 설정을 바꾸는 게 좋다. <code>restart</code> 부분을 <code>start</code>, <code>stop</code> 등으로 응용하면 된다.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"openEffect":"zoom","selector":".lightbox","loop":true,"descPosition":"bottom","closeEffect":"zoom"});</script>



</body></html>